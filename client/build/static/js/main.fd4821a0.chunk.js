(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){},218:function(e,t,a){e.exports=a.p+"static/media/logo.76b81fb0.jpg"},221:function(e,t,a){e.exports=a(492)},226:function(e,t,a){},227:function(e,t,a){},258:function(e,t){},260:function(e,t){},269:function(e,t){},271:function(e,t){},324:function(e,t){},325:function(e,t){},376:function(e,t){},483:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},492:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(217),l=a.n(s),o=(a(226),a(29)),i=a(30),c=a(32),u=a(31),m=a(33),d=(a(227),a(17)),h=a(48),p=a(40),g=a(72),E=a(126);function f(e){var t=e.type,a=e.classes,n=e.placeholder,s=Object(E.a)(e,["type","classes","placeholder"]);return r.a.createElement("input",Object.assign({type:t,className:"form-control "+(a||""),placeholder:n},s))}function v(e){var t=e.text;return r.a.createElement("label",null," ",t," ")}function b(e){var t=e.text,a=e.classes;return r.a.createElement("small",{className:a}," ",t," ")}function y(e){var t=e.children;return r.a.createElement("div",{className:"form-group"}," ",t," ")}function S(e){var t=e.text,a=e.classes,n=Object(E.a)(e,["text","classes"]);return r.a.createElement("button",Object.assign({className:"btn ".concat(a)},n),t)}var I=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"Outbound Flights:"),r.a.createElement("ul",{className:"list-group search-results"},e.depResults.map(function(t){return r.a.createElement("li",{key:t.QuoteId,className:"list-group-item"},r.a.createElement("p",null,"Departing On: ",e.depDate),r.a.createElement("p",null,"Departing From: ",e.whereFrom.split("-")[0]),r.a.createElement("p",null,"Arriving At: ",e.whereTo.split("-")[0]),r.a.createElement("p",null,"Price: $",t.MinPrice),r.a.createElement("p",null,"Direct Flight: ",t.Direct.toString()),r.a.createElement("button",{onClick:e.depSelect,value:parseInt(t.MinPrice),className:"btn btn-primary"},"Select"))})))};var w=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"Inbound Flights:"),r.a.createElement("ul",{className:"list-group search-results"},e.arrResults.map(function(t){return r.a.createElement("li",{key:t.QuoteId,className:"list-group-item"},r.a.createElement("p",null,"Departing On: ",e.retDate),r.a.createElement("p",null,"Departing From: ",e.whereTo.split("-")[0]),r.a.createElement("p",null,"Arriving At: ",e.whereFrom.split("-")[0]),r.a.createElement("p",null,"Price: $",t.MinPrice),r.a.createElement("p",null,"Direct Flight: ",t.Direct.toString()),r.a.createElement("button",{onClick:e.arrSelect,value:parseInt(t.MinPrice),className:"btn btn-primary"},"Select"))})))},C=a(218),N=a.n(C);var x=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark ",expand:"lg"},r.a.createElement("button",{class:"navbar-toggler pull-right",type:"button","data-toggle":"collapse","data-target":".dual-collapse2"},r.a.createElement("span",{class:"navbar-toggler-icon"})),r.a.createElement("div",{className:"navbar-collapse collapse w-100 dual-collapse2 order-1 order-md-0 welcome"},"Welcome back, ",e.username,"!",r.a.createElement("button",{className:"btn-secondary logout",onClick:e.logout},"Log out")),r.a.createElement("div",null,r.a.createElement(d.b,{className:"mx-auto",to:"/trips"},r.a.createElement("img",{alt:"logo",src:N.a,className:"rounded-circle logo"}))),r.a.createElement("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/budget",className:"/"===window.location.pathname||"/budget"===window.location.pathname?"nav-link active":"nav-link"},"Budget")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/search",className:"/search"===window.location.pathname?"nav-link active":"nav-link"},"Search")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/trips",className:"/trips"===window.location.pathname?"nav-link active":"nav-link"},"My Trips")))))};var D=function(){return r.a.createElement("footer",{style:{color:"white"},className:"footer py-4 bg-dark navBar"},r.a.createElement("div",{className:"text-center"},r.a.createElement("small",null,"Copyright \xa9 Chris Vincent 2020")))},R=a(35),T=a.n(R),k=a(137),F={register:function(e){return T.a.post("/api/register",e)},login:function(e){return T.a.post("/api/login",e)},isAuthorized:function(){return T.a.get("/api/authorized")},logout:function(){return T.a.get("/api/logout")},availableUN:function(e){return T.a.get("/api/user/?username="+e)},skyScanner:function(e){return k.get(e).header("X-RapidAPI-Host","skyscanner-skyscanner-flight-search-v1.p.rapidapi.com").header("X-RapidAPI-Key","5f49839056msh0904f5e8160aafap1c21f4jsn934d1f26815d")},addTrip:function(e){return T.a.post("/api/trips",e)},getTrips:function(e){return T.a.get("/api/trips/"+e)},deleteTrip:function(e){return T.a.delete("/api/trips/"+e)},addBudget:function(e){return T.a.post("/api/budget",e)},getBudget:function(e){return T.a.get("/api/budget/"+e)},deleteBudget:function(e){return T.a.delete("/api/budget/"+e)}},O=a(124),P=a.n(O);var j=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"Select the airport you would like to travel from:"),r.a.createElement("ul",{className:"list-group search-results"},e.fromResults.map(function(t){return r.a.createElement("li",{key:t.PlaceId,className:"list-group-item"},r.a.createElement("p",null,"Airport Name: ",t.PlaceName),r.a.createElement("p",null,"Airport Code: ",t.PlaceId.split("-")[0]),r.a.createElement("p",null,"State: ",""!==t.RegionId?t.RegionId:"State not available"),r.a.createElement("button",{onClick:e.formatWhereFrom,value:t.PlaceId,className:"btn btn-primary"},"Select"))})))};var A=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"Select the airport you would like to travel to:"),r.a.createElement("ul",{className:"list-group search-results"},e.toResults.map(function(t){return r.a.createElement("li",{key:t.PlaceId,className:"list-group-item"},r.a.createElement("p",null,"Airport Name: ",t.PlaceName),r.a.createElement("p",null,"Airport Code: ",t.PlaceId.split("-")[0]),r.a.createElement("p",null,"State: ",""!==t.RegionId?t.RegionId:"State not available"),r.a.createElement("button",{onClick:e.formatWhereTo,value:t.PlaceId,className:"btn btn-primary"},"Select"))})))},W=a(20),B=(a(120),a(483),a(137)),V=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",whereFrom:"",formattedWhereFrom:"",fromIsFormatted:!1,whereTo:"",formattedWhereTo:"",toIsFormatted:!1,rawDepDate:new Date,rawRetDate:new Date,initialDepDate:"",initialRetDate:"",depDate:"",retDate:"",retDateIsValid:!0,depDateIsValid:!0,cityToResults:[],cityFromResults:[],citySearched:!1,flightSearched:!1,depResults:[],arrResults:[],arrResultsPopulated:!1,depResultsPopulated:!1,depResultsMessage:"",arrResultsMessage:"",message:"",arrSelectIsValid:!1,depSelectIsValid:!1,currentTrip:{},totalCost:0,fromIsSelected:!1,toIsSelected:!1,quantity:1},a.handleFormSubmit=function(e){e.preventDefault(),a.setState({formattedWhereFrom:"",fromIsFormatted:!1,formattedWhereTo:"",toIsFormatted:!1,cityToResults:[],cityFromResults:[],citySearched:!1,flightSearched:!1,depResults:[],arrResults:[],arrResultsPopulated:!1,depResultsPopulated:!1,depResultsMessage:"",arrResultsMessage:"",message:"",currentTrip:{},totalCost:0,arrSelectIsValid:!1,depSelectIsValid:!1,fromIsSelected:!1,toIsSelected:!0});var t=Object(g.a)(Object(g.a)(a));a.setState({citySearched:!0});var n=B("GET","https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/USD/en-US/");n.query({query:a.state.whereFrom}),n.headers({"x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com","x-rapidapi-key":Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_NOT_SECRET_CODE}),n.then(function(e){if(e.error)throw new Error(e.error);t.setState({cityFromResults:e.body.Places}),0===t.state.cityFromResults&&t.setState({message:"No places matched your search. Please try a different search."})});var r=B("GET","https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/USD/en-US/");r.query({query:a.state.whereTo}),r.headers({"x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com","x-rapidapi-key":Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_NOT_SECRET_CODE}),r.then(function(e){if(e.error)throw new Error(e.error);t.setState({cityToResults:e.body.Places}),t.state.cityToResults||t.setState({message:"No places matched your search. Please try a different search."})})},a.formatWhereFrom=function(e){a.setState({formattedWhereFrom:e.target.value}),a.setState({fromIsFormatted:!0,fromIsSelected:!0,toIsSelected:!1},function(){return a.searchReady()}),console.log(e.target.value)},a.formatWhereTo=function(e){a.setState({formattedWhereTo:e.target.value}),a.setState({toIsFormatted:!0,toIsSelected:!0},function(){return a.searchReady()}),console.log(e.target.value)},a.searchReady=function(){a.state.toIsFormatted&&a.state.fromIsFormatted&&a.flightSearch()},a.flightSearch=function(){a.setState({citySearched:!1,flightSearched:!0,toIsFormatted:!1,fromIsFormatted:!1});var e={formattedWhereFrom:a.state.formattedWhereFrom,formattedWhereTo:a.state.formattedWhereTo,depDate:a.state.depDate,error:""};console.log(e);var t="https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/US/USD/en-US/"+a.state.formattedWhereFrom+"/"+a.state.formattedWhereTo+"/"+a.state.depDate+"/";console.log(t),F.skyScanner(t).then(function(e){console.log(e.body.Quotes),void 0===e.body.Quotes&&a.setState({depResultsMessage:"No outbound flights found for today's date. Please search again."}),a.setState({depResults:e.body.Quotes,error:""}),a.state.depResults.length>0?a.setState({depResultsPopulated:!0,citySearched:!1}):a.setState({depResultsPopulated:!1,depResultsMessage:"No outbound flights found based on your search. Please search again using a different date or airport."})}).catch(function(e){return a.setState({error:e.message})}),a.arrivalSearch()},a.arrivalSearch=function(){a.setState({citySearched:!1,flightSearched:!0,toIsFormatted:!1,fromIsFormatted:!1});var e={formattedWhereFrom:a.state.formattedWhereFrom,formattedWhereTo:a.state.formattedWhereTo,retDate:a.state.retDate,error:""};console.log(e);var t="https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/US/USD/en-US/"+a.state.formattedWhereTo+"/"+a.state.formattedWhereFrom+"/"+a.state.retDate+"/";console.log(t),F.skyScanner(t).then(function(e){console.log(e.body.Quotes),void 0===e.body.Quotes&&a.setState({arrResultsMessage:"No inbound flights found for today's date. Please search again."}),a.setState({arrResults:e.body.Quotes,error:""}),a.state.arrResults.length>0?a.setState({arrResultsPopulated:!0,citySearched:!1}):a.setState({arrResultsPopulated:!1,arrResultsMessage:"No inbound flights found based on your search. Please search again using a different date or airport."})}).catch(function(e){return a.setState({error:e.message})})},a.depSelect=function(e){console.log(e.target.value),a.setState({totalCost:a.state.totalCost+=parseInt(e.target.value)*a.state.quantity,depSelectIsValid:!0},function(){return a.tripReady()})},a.arrSelect=function(e){console.log(e.target.value),a.setState({totalCost:a.state.totalCost+=parseInt(e.target.value)*a.state.quantity,arrSelectIsValid:!0},function(){return a.tripReady()})},a.tripReady=function(){a.state.arrSelectIsValid&&a.state.depSelectIsValid&&a.pushTrip()},a.pushTrip=function(){var e={username:a.state.username,totalCost:a.state.totalCost,whereFrom:a.state.whereFrom,whereTo:a.state.whereTo,travelDate:a.state.depDate,quantity:a.state.quantity};console.log(e.quantity),a.setState({whereFrom:"",whereTo:""}),console.log(e),F.addTrip(e).then(function(e){console.log(e)}),a.tripAddedToast()},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.handleSelectChange=function(e){a.setState({quantity:parseInt(e.target.value)})},a.setDep=function(e){a.setState({initialDepDate:e,message:"",arrSelectIsValid:!1,depSelectIsValid:!1,arrResultsMessage:"",depResultsMessage:""});var t=e.toLocaleDateString().split("/");t[0].length<2&&(t[0]="0"+t[0]),t[1].length<2&&(t[1]="0"+t[1]);var n=t[2]+"-"+t[0]+"-"+t[1];a.setState({depDate:n});var r=new Date;r.setDate((new Date).getDate()-1),e<=r?a.setState({message:"Please select a future date.",depDateIsValid:!1}):e>=a.state.initialRetDate?a.setState({message:"Please select a valid return date.",depDateIsValid:!1}):a.setState({message:"",depDateIsValid:!0,retDateIsValid:!0})},a.setRet=function(e){a.setState({initialRetDate:e,message:"",arrSelectIsValid:!1,depSelectIsValid:!1,arrResultsMessage:"",depResultsMessage:""});var t=new Date;t.setDate((new Date).getDate()-1);var n=e.toLocaleDateString().split("/");n[0].length<2&&(n[0]="0"+n[0]),n[1].length<2&&(n[1]="0"+n[1]);var r=n[2]+"-"+n[0]+"-"+n[1];a.setState({retDate:r}),e<t?a.setState({message:"Please select a future date.",retDateIsValid:!1}):e<a.state.initialDepDate?a.setState({message:"Please select a valid return date.",retDateIsValid:!1}):a.setState({message:"",retDateIsValid:!0,depDateIsValid:!0})},a.logout=function(){a.props.logout()},a.tripAddedToast=function(){Object(W.b)("Trip successfully added")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({username:this.props.username});var e=(new Date).getDate(),t=(new Date).getMonth()+1,a=""+(new Date).getFullYear();e.toString().length<2&&(e="0"+e),t.toString().length<2&&(t="0"+t);var n=a+"-"+t+"-"+e;this.setState({depDate:n,retDate:n})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,{logout:this.logout,username:this.state.username}),r.a.createElement(W.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(W.a,null),r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Let's search for a new trip, ",this.props.username,"!"),r.a.createElement("form",null,r.a.createElement(y,null,r.a.createElement(v,{text:"Destination:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"whereTo",value:this.state.whereTo,onChange:this.handleInputChange,placeholder:"Where are you flying to?",type:"text",className:"formInput"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Departing from:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"whereFrom",value:this.state.whereFrom,onChange:this.handleInputChange,placeholder:"Where are you flying from?",type:"text",className:"formInput"}))),r.a.createElement(v,{text:"Passengers: "}),r.a.createElement("div",null,r.a.createElement("select",{value:this.state.quantity,onChange:this.handleSelectChange,className:"browser-default custom-select quantity"},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"),r.a.createElement("option",{value:"7"},"7"),r.a.createElement("option",{value:"8"},"8"))),r.a.createElement("div",{className:"calDiv"},r.a.createElement(P.a,{onChange:this.setDep,value:this.state.rawDepDate,className:"calendar"}),r.a.createElement(P.a,{onChange:this.setRet,value:this.state.rawRetDate,className:"calendar"})),r.a.createElement(y,null,r.a.createElement(S,{text:"Submit",onClick:this.handleFormSubmit,classes:"btn-primary searchBtn",disabled:this.state.whereFrom&&this.state.whereTo&&this.state.depDateIsValid&&this.state.retDateIsValid?"":"disabled"}))),this.state.citySearched&&!1===this.state.fromIsSelected?r.a.createElement(j,{formatWhereFrom:this.formatWhereFrom,formatWhereTo:this.formatWhereTo,toResults:this.state.cityToResults,fromResults:this.state.cityFromResults}):r.a.createElement("h2",{className:"resultsPlaceholder"},this.state.message),this.state.citySearched&&!1===this.state.toIsSelected?r.a.createElement(A,{formatWhereFrom:this.formatWhereFrom,formatWhereTo:this.formatWhereTo,toResults:this.state.cityToResults,fromResults:this.state.cityFromResults}):r.a.createElement("p",{className:"resultsPlaceholder"}),this.state.depResultsPopulated&&this.state.flightSearched&&!1===this.state.depSelectIsValid?r.a.createElement(I,{depResults:this.state.depResults,depDate:this.state.depDate,whereFrom:this.state.formattedWhereFrom,whereTo:this.state.formattedWhereTo,depSelect:this.depSelect}):r.a.createElement("h4",null,this.state.depResultsMessage),this.state.arrResultsPopulated&&this.state.flightSearched&&!1===this.state.arrSelectIsValid?r.a.createElement(w,{arrResults:this.state.arrResults,retDate:this.state.retDate,whereFrom:this.state.formattedWhereFrom,whereTo:this.state.formattedWhereTo,arrSelect:this.arrSelect}):r.a.createElement("h4",null,this.state.arrResultsMessage),this.state.arrSelectIsValid&&this.state.depSelectIsValid?r.a.createElement(d.b,{to:"/trips",className:"/"===window.location.pathname||"/trips"===window.location.pathname?"nav-link active":"nav-link"},"View Trips?"):r.a.createElement("div",null)),r.a.createElement(D,null))}}]),t}(n.Component),U=function(e){var t=e.color;return r.a.createElement("hr",{style:{color:t,backgroundColor:t,height:1}})},M=(a(487),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",trips:[],redirect:!1,recommendedSavings:0,dailyDispIncome:0,calculated:!1,message:"",budget:[],budgetExists:!1,tripPassed:!1,isAffordable:!1},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.deleteToast=function(){Object(W.b)("Trip successfully deleted")},a.fetchBudget=function(){F.getBudget(a.props.username).then(function(e){console.log(e.data),e.data?(a.setState({budget:e.data,budgetExists:!0}),console.log(a.state.budget)):console.log("No budget found")})},a.fetchTrips=function(){F.getTrips(a.props.username).then(function(e){a.setState({trips:e.data}),console.log(e.data)})},a.recommendReady=function(e){a.setState({calculated:!1,tripPassed:!1,message:"",recommendedSavings:0,isAffordable:!1}),a.recommendBudget(e)},a.recommendBudget=function(e){var t=e.target.value.split(","),n=new Date,r=(new Date(t[0]).getTime()-n.getTime())/864e5+4/24;if(r<=1&&r>0)a.setState({recommendedSavings:parseFloat(t[1]),calculated:!0});else if(r>1){var s=parseFloat(t[1])/r;a.setState({recommendedSavings:s,calculated:!0})}else a.setState({calculated:!0,tripPassed:!0,message:"This trip has passed. Search for another!"});var l=a.state.budget[0].dispIncome/30;l>=a.state.recommendedSavings?a.setState({isAffordable:!0,dailyDispIncome:l}):a.setState({isAffordable:!1,dailyDispIncome:l})},a.deleteTrip=function(e){console.log(e.target.value),F.deleteTrip(e.target.value).then(function(e){console.log(e.data),a.deleteToast(),a.fetchTrips()})},a.logout=function(){a.props.logout()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({recommendedSavings:0,username:this.props.username}),this.fetchTrips(),this.fetchBudget()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(x,{logout:this.logout,username:this.state.username},r.a.createElement(S,{text:"Logout",onClick:this.logout,classes:"btn-primary logoutBtn"})),r.a.createElement(W.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(W.a,null),r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Here are you trips, ",this.state.username,": "),r.a.createElement(U,null),this.state.calculated&&!this.state.tripPassed?r.a.createElement("div",null,"You must save an estimated average of $",this.state.recommendedSavings.toFixed(2)," per day to afford this trip."):"",this.state.calculated&&this.state.tripPassed?r.a.createElement("div",null,this.state.message):"",this.state.isAffordable&&!this.state.tripPassed?r.a.createElement("div",null,"You are able to save an average of $",this.state.dailyDispIncome.toFixed(2)," per day."):"",!this.state.isAffordable&&this.state.calculated?r.a.createElement("div",null,"You are able to save an average of $",this.state.dailyDispIncome.toFixed(2)," per day."):"",r.a.createElement("ul",{className:"list-group search-results allTrips"},this.state.trips.map(function(t){return r.a.createElement("li",{key:t._id,className:"list-group-item tripDiv"},r.a.createElement("p",null,"Date of travel: ",r.a.createElement("p",null,t.travelDate.toString().split("T")[0])),r.a.createElement(U,null),r.a.createElement("p",null,"Traveling from: ",r.a.createElement("p",null,t.whereFrom)),r.a.createElement(U,null),r.a.createElement("p",null,"Traveling to: ",r.a.createElement("p",null,t.whereTo)),r.a.createElement(U,null),r.a.createElement("p",null,"Estimated cost: ",r.a.createElement("p",null,"$",t.totalCost)),r.a.createElement(U,null),r.a.createElement("button",{className:"btn btn-primary tripBtn",onClick:e.recommendReady,value:[t.travelDate,t.totalCost]},"Budget Trip"),r.a.createElement("button",{className:"btn btn-secondary",onClick:e.deleteTrip,value:t._id},"Delete Trip"))})),this.state.trips.length>0?r.a.createElement("p",null):r.a.createElement("h3",null,"You have no trips yet!")),r.a.createElement(D,null))}}]),t}(n.Component)),z=(a(488),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.login=function(e){e.preventDefault(),F.login({username:a.state.username.toLowerCase(),password:a.state.password}).then(function(e){e.data.message?a.setState({error:e.data.message}):(console.log("login successful"),a.props.isAuthorized())}).catch(function(e){console.log(e),a.setState({error:"A server error has occured."})}),a.setState({password:""})},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r.trim()))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"greeting"},r.a.createElement("h3",{className:"greetingText"},"Hello, guest."),r.a.createElement("h3",{className:"greetingText"},"Please sign in or register to access the site!")),r.a.createElement("form",{className:"formBackground"},r.a.createElement(y,null,r.a.createElement(v,{text:"Username:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"username",value:this.state.username,onChange:this.handleInputChange,type:"text",className:"formInput"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Password:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"password",value:this.state.password,onChange:this.handleInputChange,type:"password",className:"formInput"}))),this.state.error?r.a.createElement(b,{text:this.state.error}):"",r.a.createElement(S,{disabled:this.state.username&&this.state.password?"":"disabled",text:"Login",onClick:this.login,classes:"btn-primary"}),r.a.createElement("div",null,r.a.createElement(d.b,{to:"/register"},"Not registered? Click here."))))}}]),t}(n.Component)),$=(a(489),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",confirm:"",validUN:!1,validEM:!1,validPW:!1,validCF:!1,error:"",reg:new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},a.validateField=function(e,t){switch(e){case"username":t.length>7?F.availableUN(t.toLowerCase()).then(function(e){e.data.length<1?a.setState({validUN:!0}):a.setState({validUN:!1})}).catch(function(e){console.log(e)}):a.setState({validUN:!1});break;case"email":a.setState({validEM:a.state.reg.test(t)});break;case"password":a.setState({validPW:t.length>7,validCF:t.length>7&&t===a.state.confirm});break;case"confirm":a.setState({validCF:a.state.validPW&&a.state.password===t})}},a.register=function(e){e.preventDefault();var t={username:a.state.username.toLowerCase(),email:a.state.email,password:a.state.password};F.register(t).then(function(e){e.data.message?a.setState({error:e.data.message}):(console.log("registration successful"),a.login(t))}).catch(function(e){console.log(e),a.setState({error:"A server error has occured."})}),a.setState({password:"",confirm:""})},a.login=function(e){F.login(e).then(function(e){e.status&&200===e.status&&!e.data.errors?(console.log("login successful"),a.props.isAuthorized()):window.location.href="/"}).catch(function(e){console.log(e),window.location.href="/"})},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r)),a.validateField(n,r)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container registerContainer"},r.a.createElement("div",{className:"greeting"},r.a.createElement("h3",{className:"greetingText"},"Hello, guest."),r.a.createElement("h3",{className:"greetingText"},"Register to access the site!")),r.a.createElement("form",{className:"formBackground"},r.a.createElement(y,null,r.a.createElement(v,{text:"Username:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"username",value:this.state.username,onChange:this.handleInputChange,placeholder:"At least 8 characters",type:"text",className:"formInput"})),r.a.createElement("div",null,this.state.validUN?r.a.createElement(b,{text:"Username is available"}):r.a.createElement(b,{text:"Username is not available"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Email:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"email",value:this.state.email,onChange:this.handleInputChange,placeholder:"Email",type:"email",className:"formInput"})),r.a.createElement("div",null,this.state.validEM?r.a.createElement(b,{text:"Email is valid"}):r.a.createElement(b,{text:"Email is invalid"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Password:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"password",value:this.state.password,onChange:this.handleInputChange,placeholder:"At least 8 characters",type:"password",className:"formInput"})),r.a.createElement("div",null,this.state.validPW?r.a.createElement(b,{text:"Password is valid"}):r.a.createElement(b,{text:"Password must be at least 8 characters"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Confirm Password:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"confirm",value:this.state.confirm,onChange:this.handleInputChange,type:"password",className:"formInput"})),r.a.createElement("div",null,this.state.validCF?r.a.createElement(b,{text:"Passwords match"}):r.a.createElement(b,{text:"Passwords don't match"}))),this.state.error?r.a.createElement(b,{text:this.state.error}):"",r.a.createElement(y,null,r.a.createElement(S,{disabled:this.state.validUN&&this.state.validEM&&this.state.validCF?"":"disabled",text:"Submit",onClick:this.register,classes:"btn-primary"}),r.a.createElement("div",null,r.a.createElement(d.b,{to:"/login"},"Already registered? Click here.")))))}}]),t}(n.Component)),L=(a(490),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",budgetExists:!1,budget:[],rent:"",utilities:"",internet:"",carExpenses:"",groceries:"",cell:"",creditCards:"",otherExpenses:"",income:"",dataId:""},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.pushBudget=function(e,t){var n={username:a.state.username,rent:parseInt(a.state.rent),utilities:parseInt(a.state.utilities),internet:parseInt(a.state.internet),carExpenses:parseInt(a.state.carExpenses),groceries:parseInt(a.state.groceries),cell:parseInt(a.state.cell),creditCards:parseInt(a.state.creditCards),otherExpenses:parseInt(a.state.otherExpenses),income:parseInt(a.state.income),totalBudget:t,dispIncome:e};a.setState({budgetExists:!0}),a.addToast(),F.addBudget(n).then(function(e){if(!e.data.username)return!1;console.log(e),F.getBudget()})},a.componentDidMount=function(){a.setState({username:a.props.username}),F.getBudget(a.props.username).then(function(e){console.log(e.data),e.data.length>0?a.setState({budget:e.data,budgetExists:!0,budgetId:e.data._id}):(a.setState({budgetExists:!1}),console.log("No budget found"))})},a.handleFormSubmit=function(e){var t=parseInt(a.state.rent)+parseInt(a.state.utilities)+parseInt(a.state.internet)+parseInt(a.state.carExpenses)+parseInt(a.state.groceries)+parseInt(a.state.cell)+parseInt(a.state.creditCards)+parseInt(a.state.otherExpenses),n=parseInt(a.state.income);console.log(n),console.log(t);var r=n-t;console.log(r,t),e.preventDefault(),a.pushBudget(r,t),a.setState({rent:"",utilities:"",internet:"",carExpenses:"",groceries:"",cell:"",creditCards:"",otherExpenses:"",income:"",totalBudget:"",dispIncome:""})},a.logout=function(){a.props.logout()},a.deleteBudget=function(e){a.deleteToast(),console.log(e.target.value),a.setState({budgetExists:!1}),F.deleteBudget(e.target.value).then(function(e){console.log(e.data),F.getBudget(a.props.username)})},a.deleteToast=function(){Object(W.b)("Budget successfully deleted")},a.addToast=function(){Object(W.b)("Budget successfully added")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,{logout:this.logout,username:this.state.username}),r.a.createElement(W.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(W.a,null),r.a.createElement("div",{className:"container"},this.state.budgetExists?r.a.createElement("div",{className:"tableStyle"},r.a.createElement("h3",{className:"header"},"Here is your current budget, ",this.state.username,":"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Amount"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Rent:"),r.a.createElement("td",null,"$",this.state.budget[0].rent)),r.a.createElement("tr",null,r.a.createElement("td",null,"Utilities:"),r.a.createElement("td",null,"$",this.state.budget[0].utilities)),r.a.createElement("tr",null,r.a.createElement("td",null,"Internet:"),r.a.createElement("td",null,"$",this.state.budget[0].internet)),r.a.createElement("tr",null,r.a.createElement("td",null,"Car Expenses:"),r.a.createElement("td",null,"$",this.state.budget[0].carExpenses)),r.a.createElement("tr",null,r.a.createElement("td",null,"Groceries:"),r.a.createElement("td",null,"$",this.state.budget[0].groceries)),r.a.createElement("tr",null,r.a.createElement("td",null,"Cell Phone:"),r.a.createElement("td",null,"$",this.state.budget[0].cell)),r.a.createElement("tr",null,r.a.createElement("td",null,"Credit Cards:"),r.a.createElement("td",null,"$",this.state.budget[0].creditCards)),r.a.createElement("tr",null,r.a.createElement("td",null,"Other Expenses:"),r.a.createElement("td",null,"$",this.state.budget[0].otherExpenses)),r.a.createElement("tr",null,r.a.createElement("td",null,"Income:"),r.a.createElement("td",null,"$",this.state.budget[0].income)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Bills:"),r.a.createElement("td",null,"$",this.state.budget[0].totalBudget)),r.a.createElement("tr",null,r.a.createElement("td",null,"Disposable Income:"),r.a.createElement("td",null,"$",this.state.budget[0].dispIncome)))),r.a.createElement("button",{className:"btn btn-primary delete",onClick:this.deleteBudget,value:this.state.budgetId},"Delete Budget")):r.a.createElement("form",null,r.a.createElement("h3",null,"Enter your monthly budget for each category:"),r.a.createElement(y,null,r.a.createElement(v,{text:"Rent:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"rent",value:this.state.rent,onChange:this.handleInputChange,type:"number",className:"formInput"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Utilities:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"utilities",value:this.state.utilities,onChange:this.handleInputChange,type:"number",className:"formInput"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Internet:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"internet",value:this.state.internet,onChange:this.handleInputChange,type:"number",className:"formInput"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Groceries:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"groceries",value:this.state.groceries,onChange:this.handleInputChange,type:"number",className:"formInput"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Car expenses:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"carExpenses",value:this.state.carExpenses,onChange:this.handleInputChange,placeholder:"(Car payment, Gas, Insurance)",type:"number",className:"formInput"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Cell phone:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"cell",value:this.state.cell,onChange:this.handleInputChange,type:"number",className:"formInput"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Credit card payments:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"creditCards",value:this.state.creditCards,onChange:this.handleInputChange,type:"number",className:"formInput"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Other expenses:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"otherExpenses",value:this.state.otherExpenses,onChange:this.handleInputChange,type:"number",className:"formInput"}))),r.a.createElement(y,null,r.a.createElement(v,{text:"Total Monthly Income:"}),r.a.createElement("div",null,r.a.createElement(f,{name:"income",value:this.state.income,onChange:this.handleInputChange,type:"number",className:"formInput"}))),r.a.createElement(y,null,r.a.createElement("div",null,r.a.createElement(S,{text:"Submit",onClick:this.handleFormSubmit,classes:"btn-primary",disabled:""!==this.state.rent&&this.state.rent>=0&&""!==this.state.utilities&&this.state.utilities>=0&&""!==this.state.internet&&this.state.internet>=0&&""!==this.state.groceries&&this.state.groceries>=0&&""!==this.state.carExpenses&&this.state.carExpenses>=0&&""!==this.state.cell&&this.state.cell>=0&&""!==this.state.creditCards&&this.state.creditCards>=0&&""!==this.state.income&&this.state.income>=0?"":"disabled"})),""!==this.state.rent&&this.state.rent>=0&&""!==this.state.utilities&&this.state.utilities>=0&&""!==this.state.internet&&this.state.internet>=0&&""!==this.state.groceries&&this.state.groceries>=0&&""!==this.state.carExpenses&&this.state.carExpenses>=0&&""!==this.state.cell&&this.state.cell>=0&&""!==this.state.creditCards&&this.state.creditCards>=0&&""!==this.state.income&&this.state.income>=0?r.a.createElement(b,{text:"Form is valid. Click Submit"}):r.a.createElement(b,{text:"Please fill form out completely. No letters or negative numbers"})))),r.a.createElement(D,null))}}]),t}(n.Component));function q(e){var t=e.fluid,a=e.classes,n=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":""," ").concat(a||"")},n)}function _(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function H(e){var t=e.size,a=e.children;return r.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}a(121);var Q=function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"titleBackground"},r.a.createElement("h1",{className:"title"},"Destination: Budget")))};var G=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"card loginCard"},r.a.createElement("img",{className:"cardImg card-img-top",src:"https://www.vacationsbymarriott.com/dbimage.ashx?cropname=cap-cana-coast-dominican-republic-2121x1414-1",alt:"Card"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-text"},"Log In"),r.a.createElement(U,{color:"black"}),r.a.createElement("p",null,"See your existing trips or find a new one!")),r.a.createElement(d.b,{to:"/login"},r.a.createElement(S,{className:"btn btn-primary cardBtn",text:"Log In"}))))};var Y=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"card registerCard"},r.a.createElement("img",{className:"cardImg card-img-top",src:"https://www.sterlingpubliclibrary.org/images/passports.JPG",alt:"Card"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-text"},"Register"),r.a.createElement(U,{color:"black"}),r.a.createElement("p",null,"Sign up to get started!")),r.a.createElement(d.b,{to:"/register"},r.a.createElement(S,{className:"btn btn-primary cardBtn",text:"Register"}))))};var J=function(e){return e.logout,r.a.createElement("div",null,r.a.createElement(Q,null),r.a.createElement(q,null,r.a.createElement("div",{className:"cardBackground"},r.a.createElement(_,null,r.a.createElement(H,{size:"md-6"},r.a.createElement(G,null)),r.a.createElement(H,{size:"md-6"},r.a.createElement(Y,null))))),r.a.createElement(D,null))},X=(a(491).config(),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={authorized:!1,username:"",display:!1},a.isAuthorized=function(){F.isAuthorized().then(function(e){e.data.message?a.setState({authorized:!1,display:!0}):a.setState({authorized:!0,username:e.data.username,display:!0})}).catch(function(e){console.log(e),a.setState({authorized:!1,display:!0})})},a.logout=function(){F.logout().then(function(e){console.log("logged out"),a.isAuthorized()}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.isAuthorized()}},{key:"render",value:function(){return r.a.createElement(d.a,null,this.state.display?r.a.createElement("div",null,r.a.createElement(h.b,{exact:!0,path:"/login"},this.state.authorized?r.a.createElement(h.a,{to:"/trips"}):r.a.createElement(z,{isAuthorized:this.isAuthorized})),r.a.createElement(h.b,{exact:!0,path:"/register"},this.state.authorized?r.a.createElement(h.a,{to:"/budget"}):r.a.createElement($,{isAuthorized:this.isAuthorized})),r.a.createElement(h.b,{exact:!0,path:"/budget"},this.state.authorized?r.a.createElement(L,{username:this.state.username,logout:this.logout,component:L}):r.a.createElement(h.a,{to:"/"})),r.a.createElement(h.b,{exact:!0,path:"/trips"},this.state.authorized?r.a.createElement(M,{username:this.state.username,logout:this.logout,component:M}):r.a.createElement(h.a,{to:"/"})),r.a.createElement(h.b,{exact:!0,path:"/search"},this.state.authorized?r.a.createElement(V,{username:this.state.username,logout:this.logout,component:V}):r.a.createElement(h.a,{to:"/"})),r.a.createElement(h.b,{exact:!0,path:"/"},this.state.authorized?r.a.createElement(h.a,{to:"/trips"}):r.a.createElement(J,{component:J}))):"")}}]),t}(n.Component)),Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(X,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Z?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):K(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):K(e)})}}()}},[[221,1,2]]]);
//# sourceMappingURL=main.fd4821a0.chunk.js.map